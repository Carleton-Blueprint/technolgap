---
import type { Entry } from 'contentful';

import { createClient } from "contentful";
import Faq from "../components/Faq.astro";
import PageLayout from "../layouts/PageLayout.astro";
import TextBox from "../components/TextBox.astro";
import Subheading from "../components/Subheading.astro";

// Assuming `faqList` is fetched from an API or defined here
// Contentful client setup
const client = createClient({
  space: "33d3d7kdmbg5", // Replace with your Contentful space ID
  accessToken: "00BZSByF4Gmh1S-vDtMfsmOLIdqrC8fyV404sOfIwzM", // Replace with your Contentful access token
});

// Define the FAQ fields interface
interface FaqFields {
  fields: {
    question: string;
    answer: string;
  };
  contentTypeId: "faq";
}
type Faqitem = Entry<FaqFields>;

// Helper function to fetch FAQs from Contentful
async function fetchFaqs(): Promise<Faqitem[]> {
  const response = await client.getEntries({
    content_type: "faq", // Ensure this matches your Contentful content type
  });
  return response.items as Faqitem[];
}

// Fetch FAQ data asynchronously
const faqList = await fetchFaqs();
---

<PageLayout title="Frequently Asked Questions">
    <div>
      <Subheading title="Frequently Asked Questions" />
    </div>
  
   
  
    <!-- Pass the fetched faqList to the Faq component -->
    <Faq faqList={faqList} />
  </PageLayout>
  <script>
    document.querySelector("main")?.classList.add("classic-bg");
  </script>
  
  <style>
    div {
      padding-top: 50px;
    }
  </style>